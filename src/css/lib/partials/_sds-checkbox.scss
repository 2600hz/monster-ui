@import '~@2600hz/sds-core/sds-tools';

// Tokens
* {
	--sds_checkbox_background: var(
		--sds_theme_control_background,
		#{sds-color(white)}
	);
	--sds_checkbox_border_color: var(
		--sds_theme_control_border,
		#{sds-color(grey, 30)}
	);
	--sds_checkbox_border_radius: 4px;
	--sds_checkbox_border_style: solid;
	--sds_checkbox_border_width: 1px;
	--sds_checkbox_text: var(--sds_theme_control_text, #{sds-color(grey, 100)});

	--sds_checkbox_hover_background: var(
		--sds_theme_control_hover_background,
		#{sds-color(white)}
	);
	--sds_checkbox_hover_border_color: var(
		--sds_theme_control_hover_border,
		#{sds-color(grey)}
	);
	--sds_checkbox_hover_border_width: 1px;

	--sds_checkbox_focus_background: var(
		--sds_theme_control_hover_background,
		#{sds-color(white)}
	);
	--sds_checkbox_focus_border_color: var(
		--sds_theme_control_hover_border,
		#{sds-color(grey)}
	);
	--sds_checkbox_focus_border_width: 1px;
	--sds_checkbox_focus_shadow: var(
 		--sds_theme_focus_shadow,
		0 0 0 2px #{sds-color(grey, 05)},
		0 0 0 4px #{sds-color(blue)}
	);

	--sds_checkbox_checked_background: var(
		--sds_theme_color_primary,
		#{sds-color(blue)}
	);
	--sds_checkbox_checked_border_color: var(
		--sds_theme_color_primary_interactive,
		#{sds-color(blue, 60)}
	);
	--sds_checkbox_checked_border_width: 1px;

	--sds_checkbox_error_background: var(
		--sds_theme_control_error_background,
		#{sds-color(red, 05)}
	);
	--sds_checkbox_error_border_color: var(
		--sds_theme_control_error_border,
		#{sds-color(red)}
	);
	--sds_checkbox_error_border_width: 2px;
	--sds_checkbox_error_text: var(
		--sds_theme_control_error_text,
		#{sds-color(red, 60)}
	);

	--sds_checkbox_disabled_background: var(
		--sds_theme_control_disabled_background,
		#{sds-color(white)}
	);
	--sds_checkbox_disabled_border_color: var(
		--sds_theme_control_disabled_border,
		#{sds-color(grey, 30)}
	);
	--sds_checkbox_disabled_border_width: 1px;
	--sds_checkbox_disabled_opacity: var(--sds_theme_disabled_opacity, 48%);
	--sds_checkbox_disabled_text: var(
		--sds_theme_control_disabled_text,
		#{sds-color(grey, 100)}
	);
}

// Component
.sds_CheckboxRaw_Input{
	width: 0;
	height: 0;
	opacity: 0;
	position: absolute;
	pointer-events: none;
	&:focus.sds_CheckboxRaw_Input + .sds_CheckboxRaw{
		background: var(--sds_checkbox_focus_background);
		border: var(--sds_checkbox_border_width) var(--sds_checkbox_border_style) var(--sds_checkbox_focus_border_color);
		box-shadow: var(--sds_checkbox_focus_shadow);
	}
	&:focus.sds_CheckboxRaw_Input + .sds_CheckboxRaw_Error{
		background: var(--sds_checkbox_error_background);
		border: var(--sds_checkbox_focus_border_width) var(--sds_checkbox_border_style) var(--sds_checkbox_error_border_color);
		box-shadow: var(--sds_checkbox_focus_shadow), inset 0 0 0 calc(var(--sds_checkbox_error_border_width) - 1px) var(--sds_checkbox_error_border_color);
	}
	&:checked.sds_CheckboxRaw_Input + .sds_CheckboxRaw{
		background: var(--sds_checkbox_checked_background);
		border: var(--sds_checkbox_border_width) var(--sds_checkbox_border_style) var(--sds_checkbox_checked_border_color);
		&::after{
 			opacity: 1;
		}
	}
	&:checked.sds_CheckboxRaw_Input + .sds_CheckboxRaw.sds_CheckboxRaw_Indeterminate{
		&::after{
			border-left: none;
			transform: rotate(0);
		}
	}
	&:checked.sds_CheckboxRaw_Input + .sds_CheckboxRaw_Error{
		background: var(--sds_checkbox_checked_background);
		border: calc(var(--sds_checkbox_error_border_width) - 1px) var(--sds_checkbox_border_style) var(--sds_checkbox_checked_border_color);
		box-shadow: none;
	}
	&:checked:focus.sds_CheckboxRaw_Input + .sds_CheckboxRaw_Error{
		box-shadow: var(--sds_checkbox_focus_shadow);
	}
}

.sds_CheckboxRaw {
	display: inline-flex;
	justify-content: center;
	align-items: center;
	width: 20px;
	height: 20px;
	background: var(--sds_checkbox_background);
	border-radius: var(--sds_checkbox_border_radius);
	border: var(--sds_checkbox_border_width) var(--sds_checkbox_border_style) var(--sds_checkbox_border_color);
	cursor: pointer;
	overflow: hidden;
	transition: sds-transition(standard, interactive);
	&:hover{
		background: var(--sds_checkbox_hover_background);
		border: var(--sds_checkbox_hover_border_width) var(--sds_checkbox_border_style) var(--sds_checkbox_hover_border_color);
	}
	&::after{
		content: '';
		width: 12px;
		height: 8px;
		margin-top: -3px;
		transform: rotate(-45deg);
		border-bottom: 3px solid sds-color(white);
		border-left: 3px solid sds-color(white);
		opacity: 0;
	}
}

.sds_CheckboxRaw_Error {
	background: var(--sds_checkbox_error_background);
	border: calc(var(--sds_checkbox_error_border_width) - 1px) var(--sds_checkbox_border_style) var(--sds_checkbox_error_border_color);
	box-shadow: inset 0 0 0 calc(var(--sds_checkbox_error_border_width) - 1px) var(--sds_checkbox_error_border_color);
	&:hover{
		background: var(--sds_checkbox_error_background);
		border: calc(var(--sds_checkbox_error_border_width) - 1px) var(--sds_checkbox_border_style) var(--sds_checkbox_error_border_color);
	}
}

.sds_CheckboxRaw_Disabled{
	opacity: var(--sds_checkbox_disabled_opacity);
  	cursor: not-allowed;
}
